(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{66:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-row",[r("v-col",{attrs:{col:"12"}},[r("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[r("v-btn",t._g({attrs:{color:"primary",dark:""}},s),[t._v("Добавить пользователя")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"green"}},[r("v-toolbar-title",[t._v("Добавить пользователя")])],1),t._v(" "),r("v-form",{on:{submit:function(e){return t.register(t.authData)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-col",{attrs:{cols:"12"}}),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("ValidationProvider",{attrs:{name:"Login",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,a=e.valid;return[r("v-text-field",{attrs:{"error-messages":s,success:a,label:"Логин",required:""},model:{value:t.authData.login,callback:function(e){t.$set(t.authData,"login",e)},expression:"authData.login"}})]}}])})],1),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("ValidationProvider",{attrs:{name:"Name",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,a=e.valid;return[r("v-text-field",{attrs:{"error-messages":s,success:a,label:"ФИО",required:""},model:{value:t.authData.userName,callback:function(e){t.$set(t.authData,"userName",e)},expression:"authData.userName"}})]}}])})],1),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("ValidationObserver",[r("ValidationProvider",{attrs:{name:"confirm",rules:"required|min:8"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[r("v-text-field",{attrs:{"append-icon":t.showpassw?"fa-eye":"fa-eye-slash",type:t.showpassw?"text":"password","error-messages":s,label:"Повторите пароль",counter:"",hint:"Не менее 8 символов"},on:{"click:append":function(e){t.showpassw=!t.showpassw}},model:{value:t.confirmation,callback:function(e){t.confirmation=e},expression:"confirmation"}})]}}])}),t._v(" "),r("ValidationProvider",{attrs:{rules:"required|password:@confirm"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[r("v-text-field",{attrs:{"append-icon":t.showpassw?"fa-eye":"fa-eye-slash",type:t.showpassw?"text":"password","error-messages":s,label:"Пароль",hint:"Не менее 8 символов",counter:""},on:{"click:append":function(e){t.showpassw=!t.showpassw}},model:{value:t.authData.password,callback:function(e){t.$set(t.authData,"password",e)},expression:"authData.password"}})]}}])})],1)],1),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{items:t.permissionItems,label:"Роль пользователя"},model:{value:t.authData.permission,callback:function(e){t.$set(t.authData,"permission",e)},expression:"authData.permission"}})],1),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{attrs:{color:"red",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Закрыть")]),t._v(" "),r("v-btn",{attrs:{type:"submit",color:"green",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Сохранить")])],1)],1)],1)],1)],1)],1),t._v(" "),r("v-row",[r("v-col",{attrs:{col:"12"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:"green"}},[r("v-toolbar-title",[t._v("Список пользователей")])],1),t._v(" "),r("v-simple-table",{attrs:{height:"400px"},scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",{attrs:{dense:!0,"fixed-header":!0}},[r("tr",[r("th",{attrs:{lass:"text-left"}},[t._v("Логин")]),t._v(" "),r("th",{attrs:{lass:"text-left"}},[t._v("ФИО")]),t._v(" "),r("th",{attrs:{lass:"text-left"}},[t._v("Роль")]),t._v(" "),r("th",{attrs:{lass:"text-left"}},[t._v("Действия")])])]),t._v(" "),r("tbody",t._l(t.users,(function(e,s){return r("tr",{key:s},[r("td",[t._v(t._s(e.login))]),t._v(" "),r("td",[t._v(t._s(e.userName))]),t._v(" "),r("td",[t._v(t._s(e.permission))]),t._v(" "),r("td",[r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var o=a.on;return[r("v-btn",t._g({attrs:{color:"green",icon:""},on:{click:function(r){return t.editUser(e,s)}}},o),[r("v-icon",[t._v("fa-pencil-square-o")])],1)]}}],null,!0)},[t._v(" "),r("span",[t._v("Редактировать")])]),t._v(" "),r("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(a){var o=a.on;return[r("v-btn",t._g({attrs:{color:"red",icon:""},on:{click:function(r){return t.deletePost(e._id,s)}}},o),[r("v-icon",[t._v("fa-trash")])],1)]}}],null,!0)},[t._v(" "),r("span",[t._v("Удалить")])])],1)])})),0)]},proxy:!0}])})],1)],1)],1)],1)};s._withStripped=!0;var a=r(5),o=r.n(a),n=r(4);r(1);function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){o()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c={data:function(){return{pass:"",pass2:"",showpassw:!1,dialog:!1,valid:!1,editor:!1,permissionItems:["Администратор","Сотрудник"],fio:"",search:"",searchParam:["по ФИО"],searchParamVal:"fio",user:{},authData:{saveswitch:!1,login:"",userName:"",permission:"Сотрудник",password:""},page:1,limit:6,confirmation:""}},watch:{permissionItems:function(){switch(this.permissionItems){case"Администратор":this.authData.permission="admin";break;case"Сотрудник":this.authData.permission="employee"}}},created:function(){this.getAllUsers()},computed:l({},Object(n.c)(["users"])),methods:l({},Object(n.b)(["register","getUsers"]),{getAllUsers:function(){var t={page:this.page,limit:this.limit,searchparam:this.searchParamVal,search:this.search};this.getUsers(t)},editUser:function(t){this.user=t,this.editor=!0}})},u=(r(80),r(2)),v=Object(u.a)(c,s,[],!1,null,"68be103e",null);v.options.__file="src/views/Users.vue";e.default=v.exports},73:function(t,e,r){var s=r(8),a=r(81);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[t.i,a,""]]);var o={insert:"head",singleton:!1},n=(s(t.i,a,o),a.locals?a.locals:{});t.exports=n},80:function(t,e,r){"use strict";var s=r(73);r.n(s).a},81:function(t,e,r){}}]);